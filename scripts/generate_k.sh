#!/bin/bash

## -------------------------------------------------------------------------##
## Input settings
## -------------------------------------------------------------------------##


## -------------------------------------------------------------------------##
## Conduct the prior run
## -------------------------------------------------------------------------##
# 1. Setup the prior run
prior_run_dir="/n/holyscratch01/jacob_lab/hnesser/TROPOMI_inversion/jacobian_runs/TROPOMI_inversion_0000/"

# 2. Run the prior run


## -------------------------------------------------------------------------##
## Analyze the prior run to get the necessary quantities
## -------------------------------------------------------------------------##
# 1. Run the TROPOMI operator
sbatch --array=1-12 apply_TROPOMI_operator.sh ${prior_run_dir}


# 2. Analyze the output
python generate_obs.py ...?

## -------------------------------------------------------------------------##
## Generate clusters
## -------------------------------------------------------------------------##
python generate_clusters.py

## -------------------------------------------------------------------------##
## Generate prior
## -------------------------------------------------------------------------##
